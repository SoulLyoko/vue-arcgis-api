(window.webpackJsonp=window.webpackJsonp||[]).push([[202],{"./node_modules/@arcgis/core/symbols/support/webStyleSymbolUtils.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"fetchSymbolFromStyle",(function(){return h})),__webpack_require__.d(__webpack_exports__,"resolveWebStyleSymbol",(function(){return g}));var _symbols_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/symbols.js"),_core_devEnvironmentUtils_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/devEnvironmentUtils.js"),_core_Error_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/Error.js"),_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/core/urlUtils.js"),_portal_Portal_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/portal/Portal.js"),_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/chunks/persistableUrlUtils.js"),_jsonUtils_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/jsonUtils.js"),_StyleOrigin_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/StyleOrigin.js"),_styleUtils_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/styleUtils.js"),_Thumbnail_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/Thumbnail.js");function g(t,e,r,l){return t.name?t.styleName&&"Esri2DPointSymbolsStyle"===t.styleName?function j(t,e,r){const o=_styleUtils_js__WEBPACK_IMPORTED_MODULE_8__.a.replace(/\{SymbolName\}/gi,t.name);return Object(_styleUtils_js__WEBPACK_IMPORTED_MODULE_8__.d)(o,r).then((t=>{const r=Object(_styleUtils_js__WEBPACK_IMPORTED_MODULE_8__.c)(t.data);return Object(_jsonUtils_js__WEBPACK_IMPORTED_MODULE_6__.a)(r,{portal:e.portal,url:Object(_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.K)(Object(_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.G)(o)),origin:"portal-item"})}))}(t,e,l):Object(_styleUtils_js__WEBPACK_IMPORTED_MODULE_8__.b)(t,e,l).then((o=>h(o,t.name,e,r,l))):Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__.a("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function h(y,c,g,h,j){const d=y.data,U={portal:g&&g.portal||_portal_Portal_js__WEBPACK_IMPORTED_MODULE_4__.a.getDefault(),url:Object(_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.K)(y.baseUrl),origin:"portal-item"},N=d.items.find((t=>t.name===c));if(!N){const t=`The symbol name '${c}' could not be found`;return Promise.reject(new _core_Error_js__WEBPACK_IMPORTED_MODULE_2__.a("symbolstyleutils:symbol-name-not-found",t,{symbolName:c}))}let w=Object(_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_styleUtils_js__WEBPACK_IMPORTED_MODULE_8__.e)(N,h),U),P=N.thumbnail&&N.thumbnail.href;const S=N.thumbnail&&N.thumbnail.imageData;Object(_core_devEnvironmentUtils_js__WEBPACK_IMPORTED_MODULE_1__.b)()&&(w=Object(_core_devEnvironmentUtils_js__WEBPACK_IMPORTED_MODULE_1__.a)(w),P=Object(_core_devEnvironmentUtils_js__WEBPACK_IMPORTED_MODULE_1__.a)(P));const D={portal:g.portal,url:Object(_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.K)(Object(_core_urlUtils_js__WEBPACK_IMPORTED_MODULE_3__.G)(w)),origin:"portal-item"};return Object(_styleUtils_js__WEBPACK_IMPORTED_MODULE_8__.d)(w,j).then((e=>{const r="cimRef"===h?Object(_styleUtils_js__WEBPACK_IMPORTED_MODULE_8__.c)(e.data):e.data,o=Object(_jsonUtils_js__WEBPACK_IMPORTED_MODULE_6__.a)(r,D);if(o&&Object(_symbols_js__WEBPACK_IMPORTED_MODULE_0__.c)(o)){if(P){const t=Object(_chunks_persistableUrlUtils_js__WEBPACK_IMPORTED_MODULE_5__.a)(P,U);o.thumbnail=new _Thumbnail_js__WEBPACK_IMPORTED_MODULE_9__.a({url:t})}else S&&(o.thumbnail=new _Thumbnail_js__WEBPACK_IMPORTED_MODULE_9__.a({url:`data:image/png;base64,${S}`}));y.styleUrl?o.styleOrigin=new _StyleOrigin_js__WEBPACK_IMPORTED_MODULE_7__.a({portal:g.portal,styleUrl:y.styleUrl,name:c}):y.styleName&&(o.styleOrigin=new _StyleOrigin_js__WEBPACK_IMPORTED_MODULE_7__.a({portal:g.portal,styleName:y.styleName,name:c}))}return o}))}}}]);