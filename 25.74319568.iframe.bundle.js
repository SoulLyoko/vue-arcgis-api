(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"./node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return n})),__webpack_require__.d(__webpack_exports__,"b",(function(){return s}));var _views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js"),_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js"),_views_3d_webgl_engine_core_shaderLibrary_output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js"),_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js"),_views_3d_webgl_engine_core_shaderLibrary_util_AlphaDiscard_glsl_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js"),_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js"),_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js"),_views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");function s(s){const n=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_7__.a;return n.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_1__.a,{linearDepth:!1}),n.vertex.uniforms.add("proj","mat4").add("view","mat4"),n.attributes.add("position","vec3"),n.attributes.add("uv0","vec2"),n.varyings.add("vpos","vec3"),s.multipassTerrainEnabled&&n.varyings.add("depth","float"),n.vertex.uniforms.add("textureCoordinateScaleFactor","vec2"),n.vertex.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.a`
    void main(void) {
      vpos = position;
      ${s.multipassTerrainEnabled?"depth = (view * vec4(vpos, 1.0)).z;":""}
      vTexCoord = uv0 * textureCoordinateScaleFactor;
      gl_Position = transformPosition(proj, view, vpos);
    }
  `),n.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_0__.a,s),s.multipassTerrainEnabled&&(n.fragment.include(_views_3d_webgl_engine_core_shaderLibrary_output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_2__.a),n.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_3__.b,s)),n.fragment.uniforms.add("tex","sampler2D"),n.fragment.uniforms.add("opacity","float"),n.varyings.add("vTexCoord","vec2"),7===s.output?n.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.a`
    void main() {
      discardBySlice(vpos);
      ${s.multipassTerrainEnabled?"terrainDepthTest(gl_FragCoord, depth);":""}

      float alpha = texture2D(tex, vTexCoord).a * opacity;
      if (alpha  < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.a.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaDiscard_glsl_js__WEBPACK_IMPORTED_MODULE_4__.b)}) {
        discard;
      }

      gl_FragColor = vec4(alpha);
    }
    `):(n.fragment.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_5__.a),n.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.a`
    void main() {
      discardBySlice(vpos);
      ${s.multipassTerrainEnabled?"terrainDepthTest(gl_FragCoord, depth);":""}
      gl_FragColor = texture2D(tex, vTexCoord) * opacity;

      if (gl_FragColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_6__.a.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaDiscard_glsl_js__WEBPACK_IMPORTED_MODULE_4__.b)}) {
        discard;
      }

      gl_FragColor = highlightSlice(gl_FragColor, vpos);
      ${s.OITEnabled?"gl_FragColor = premultiplyAlpha(gl_FragColor);":""}
    }
    `)),n}const n=Object.freeze({__proto__:null,build:s})},"./node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return c})),__webpack_require__.d(__webpack_exports__,"b",(function(){return t}));var _views_3d_webgl_engine_core_shaderLibrary_ScreenSizeScaling_glsl_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js"),_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js"),_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js"),_views_3d_webgl_engine_core_shaderLibrary_output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js"),_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js"),_views_3d_webgl_engine_core_shaderLibrary_util_AlphaDiscard_glsl_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js"),_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js"),_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js"),_views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");function t(t){const c=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_8__.a;return c.include(_views_3d_webgl_engine_core_shaderLibrary_Transform_glsl_js__WEBPACK_IMPORTED_MODULE_2__.a,{linearDepth:!1}),c.include(_views_3d_webgl_engine_core_shaderLibrary_ScreenSizeScaling_glsl_js__WEBPACK_IMPORTED_MODULE_0__.a,{}),c.include(_views_3d_webgl_engine_core_shaderLibrary_Slice_glsl_js__WEBPACK_IMPORTED_MODULE_1__.a,t),c.fragment.include(_views_3d_webgl_engine_core_shaderLibrary_util_ColorConversion_glsl_js__WEBPACK_IMPORTED_MODULE_6__.a),c.vertex.uniforms.add("proj","mat4").add("view","mat4"),c.fragment.uniforms.add("color","vec4"),c.attributes.add("position","vec3"),c.varyings.add("vWorldPosition","vec3"),t.multipassTerrainEnabled&&c.varyings.add("depth","float"),t.screenSizeEnabled&&c.attributes.add("offset","vec3"),t.shadingEnabled&&(c.vertex.uniforms.add("viewNormal","mat4"),c.fragment.uniforms.add("shadedColor","vec4").add("shadingDirection","vec3"),c.attributes.add("normal","vec3"),c.varyings.add("vViewNormal","vec3")),c.vertex.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.a`
    void main(void) {
      vWorldPosition = ${t.screenSizeEnabled?"screenSizeScaling(offset, position)":"position"};
  `),t.shadingEnabled&&c.vertex.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.a`vec3 worldNormal = normal;
vViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`),c.vertex.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.a`
    ${t.multipassTerrainEnabled?"depth = (view * vec4(vWorldPosition, 1.0)).z;":""}
    gl_Position = transformPosition(proj, view, vWorldPosition);
  }
  `),t.multipassTerrainEnabled&&(c.fragment.include(_views_3d_webgl_engine_core_shaderLibrary_output_ReadLinearDepth_glsl_js__WEBPACK_IMPORTED_MODULE_3__.a),c.include(_views_3d_webgl_engine_core_shaderLibrary_shading_MultipassTerrainTest_glsl_js__WEBPACK_IMPORTED_MODULE_4__.b,t)),c.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.a`
    void main() {
      discardBySlice(vWorldPosition);
      ${t.multipassTerrainEnabled?"terrainDepthTest(gl_FragCoord, depth);":""}
    `),t.shadingEnabled?c.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.a`vec3 viewNormalNorm = normalize(vViewNormal);
float shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);
vec4 finalColor = mix(color, shadedColor, shadingFactor);`):c.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.a`vec4 finalColor = color;`),c.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.a`
      if (finalColor.a < ${_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.a.float(_views_3d_webgl_engine_core_shaderLibrary_util_AlphaDiscard_glsl_js__WEBPACK_IMPORTED_MODULE_5__.c)}) {
        discard;
      }
      ${7===t.output?_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.a`gl_FragColor = vec4(finalColor.a);`:""}

      ${0===t.output?_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_7__.a`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${t.OITEnabled?"gl_FragColor = premultiplyAlpha(gl_FragColor);":""}`:""}
    }
    `),c}const c=Object.freeze({__proto__:null,build:t})},"./node_modules/@arcgis/core/chunks/SlicePlaneMaterial.glsl.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return a})),__webpack_require__.d(__webpack_exports__,"b",(function(){return r}));var _views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js"),_views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js");function r(){const r=new _views_3d_webgl_engine_core_shaderModules_ShaderBuilder_js__WEBPACK_IMPORTED_MODULE_1__.a;return r.extensions.add("GL_OES_standard_derivatives"),r.vertex.uniforms.add("proj","mat4").add("view","mat4"),r.attributes.add("position","vec3"),r.attributes.add("uv0","vec2"),r.varyings.add("vUV","vec2"),r.vertex.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.a`void main(void) {
vUV = uv0;
gl_Position = proj * view * vec4(position, 1.0);
}`),r.fragment.uniforms.add("backgroundColor","vec4").add("gridColor","vec4").add("ratio","float").add("gridWidth","float"),r.fragment.code.add(_views_3d_webgl_engine_core_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.a`void main() {
const float LINE_WIDTH = 1.0;
vec2 uvScaled = vUV * gridWidth;
vec2 gridUV = (fract(uvScaled + 0.5) - 0.5) / (LINE_WIDTH * fwidth(uvScaled));
vec2 grid = (1.0 - step(0.5, gridUV)) * step(-0.5, gridUV);
grid.x *= step(0.5, uvScaled.x) * step(uvScaled.x, gridWidth - 0.5);
grid.y *= step(0.5, uvScaled.y) * step(uvScaled.y, gridWidth - 0.5);
float gridFade = max(grid.x, grid.y);
float gridAlpha = gridColor.a * gridFade;
gl_FragColor =
vec4(backgroundColor.rgb * backgroundColor.a, backgroundColor.a) * (1.0 - gridAlpha) +
vec4(gridColor.rgb, 1.0) * gridAlpha;
}`),r}const a=Object.freeze({__proto__:null,build:r})},"./node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return persistable_g}));var maybe=__webpack_require__("./node_modules/@arcgis/core/core/maybe.js"),multiOriginJSONSupportUtils=__webpack_require__("./node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js"),urlUtils=__webpack_require__("./node_modules/@arcgis/core/core/urlUtils.js"),uuid=__webpack_require__("./node_modules/@arcgis/core/core/uuid.js"),metadata=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/metadata.js"),PropertyOrigin=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/PropertyOrigin.js"),property=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js");function resourceExtension_p(i){return resourceExtension_o[function resourceExtension_n(i){return i instanceof Blob?i.type:function resourceExtension_t(p){const n=Object(urlUtils.n)(p);return resourceExtension_g[n]||resourceExtension_a}(i.url)}(i)]||resourceExtension_e}const resourceExtension_o={},resourceExtension_a="text/plain",resourceExtension_e=resourceExtension_o[resourceExtension_a],resourceExtension_g={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip"};for(const l in resourceExtension_g)resourceExtension_o[resourceExtension_g[l]]=l;var persistableUrlUtils=__webpack_require__("./node_modules/@arcgis/core/chunks/persistableUrlUtils.js");function persistable_g(r){const e=Object(maybe.l)(r)&&r.origins?r.origins:[void 0];return(t,o)=>{const i=function w(r,e,o){if(Object(maybe.l)(r)&&"resource"===r.type)return function v(e,s,u){const p=Object(metadata.b)(s,u);return{type:String,read:(t,r,e)=>{const o=Object(persistableUrlUtils.d)(t,r,e);return p.type===String?o:"function"==typeof p.type?new p.type({url:o}):void 0},write:{writer(s,a,l,f){if(!f||!f.resources)return"string"==typeof s?void(a[l]=Object(persistableUrlUtils.e)(s,f)):void(a[l]=s.write({},f));const m=function P(t){return Object(maybe.k)(t)?null:"string"==typeof t?t:t.url}(s),d=m?Object(persistableUrlUtils.e)(m,{...f,verifyItemRelativeUrls:f&&f.verifyItemRelativeUrls?{writtenUrls:f.verifyItemRelativeUrls.writtenUrls,rootPath:null}:null},1):null,g=p.type!==String&&(!Object(multiOriginJSONSupportUtils.a)(this)||f&&f.origin&&this.originIdOf(u)>Object(PropertyOrigin.d)(f.origin));f&&f.portalItem&&Object(maybe.l)(d)&&!Object(urlUtils.s)(d)?g?function j(t,r,e,o,i,n,s,p){const a=s.portalItem.resourceFromPath(o),c=S(e,o,s);resourceExtension_p(c)===Object(urlUtils.n)(a.path)?(O(t,r,a,c,s.resources.toUpdate),i[n]=o):U(t,r,e,o,i,n,s,p)}(this,u,s,d,a,l,f,e):function I(t,r,e,o){o.resources.toKeep.push({resource:o.portalItem.resourceFromPath(t)}),r[e]=t}(d,a,l,f):f&&f.portalItem&&(Object(maybe.k)(d)||Object(maybe.l)(Object(persistableUrlUtils.b)(d))||Object(urlUtils.t)(d)||g)?U(this,u,s,d,a,l,f,e):a[l]=d}}}}(r,e,o);switch(Object(maybe.l)(r)&&r.type?r.type:"other"){case"other":return{read:!0,write:!0};case"url":{const{read:t,write:r}=persistableUrlUtils.c;return{read:t,write:r}}}}(r,t,o);for(const r of e){const e=Object(property.c)(t,r,o);for(const t in i)e[t]=i[t]}}}function U(t,r,o,i,u,a,c,l){const m=Object(uuid.a)(),y=S(o,i,c),h=Object(urlUtils.z)(Object(maybe.j)(l,"prefix"),m),d=`${h}.${resourceExtension_p(y)}`,g=c.portalItem.resourceFromPath(d);Object(urlUtils.t)(i)&&c.resources.pendingOperations.push(async function b(t){const r=(await Promise.resolve().then(__webpack_require__.bind(null,"./node_modules/@arcgis/core/request.js"))).default,{data:e}=await r(t,{responseType:"blob"});return e}(i).then((t=>{g.path=`${h}.${resourceExtension_p(t)}`,u[a]=g.itemRelativeUrl})).catch((()=>{}))),O(t,r,g,y,c.resources.toAdd),u[a]=g.itemRelativeUrl}function O(t,r,e,o,i){i.push({resource:e,content:o,finish:e=>{!function R(t,r,e){"string"==typeof t[r]?t[r]=e.url:t[r].url=e.url}(t,r,e)}})}function S(t,r,e){return"string"==typeof t?{url:r}:new Blob([JSON.stringify(t.toJSON(e))],{type:"application/json"})}},"./node_modules/@arcgis/core/layers/buildingSublayers/BuildingComponentSublayer.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return U}));var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),_PopupTemplate_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/PopupTemplate.js"),_renderers_support_types_js__WEBPACK_IMPORTED_MODULE_10__=(__webpack_require__("./node_modules/@arcgis/core/renderers/ClassBreaksRenderer.js"),__webpack_require__("./node_modules/@arcgis/core/renderers/DictionaryRenderer.js"),__webpack_require__("./node_modules/@arcgis/core/renderers/DotDensityRenderer.js"),__webpack_require__("./node_modules/@arcgis/core/renderers/HeatmapRenderer.js"),__webpack_require__("./node_modules/@arcgis/core/renderers/Renderer.js"),__webpack_require__("./node_modules/@arcgis/core/renderers/SimpleRenderer.js"),__webpack_require__("./node_modules/@arcgis/core/renderers/UniqueValueRenderer.js"),__webpack_require__("./node_modules/@arcgis/core/renderers/support/jsonUtils.js"),__webpack_require__("./node_modules/@arcgis/core/renderers/support/types.js")),_request_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@arcgis/core/request.js"),_core_Error_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@arcgis/core/core/Error.js"),_core_jsonMap_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@arcgis/core/core/jsonMap.js"),_core_Loadable_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@arcgis/core/core/Loadable.js"),_core_Logger_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/@arcgis/core/core/Logger.js"),_core_maybe_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/@arcgis/core/core/maybe.js"),_core_Promise_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("./node_modules/@arcgis/core/core/Promise.js"),_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js"),_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_22__=(__webpack_require__("./node_modules/@arcgis/core/core/arrayUtils.js"),__webpack_require__("./node_modules/@arcgis/core/core/has.js"),__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/ensureType.js"),__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js")),_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js"),_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js"),_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("./node_modules/@arcgis/core/geometry/Extent.js"),_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("./node_modules/@arcgis/core/geometry/SpatialReference.js"),_FeatureLayer_js__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__("./node_modules/@arcgis/core/layers/FeatureLayer.js"),_BuildingSublayer_js__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__("./node_modules/@arcgis/core/layers/buildingSublayers/BuildingSublayer.js"),_support_capabilities_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__("./node_modules/@arcgis/core/layers/support/capabilities.js"),_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__("./node_modules/@arcgis/core/layers/support/commonProperties.js"),_support_fieldProperties_js__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__("./node_modules/@arcgis/core/layers/support/fieldProperties.js"),_support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__("./node_modules/@arcgis/core/layers/support/FieldsIndex.js"),_support_I3SIndexInfo_js__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__("./node_modules/@arcgis/core/layers/support/I3SIndexInfo.js"),_support_I3SLayerDefinitions_js__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__("./node_modules/@arcgis/core/layers/support/I3SLayerDefinitions.js"),_rest_support_Query_js__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__("./node_modules/@arcgis/core/rest/support/Query.js"),_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__("./node_modules/@arcgis/core/support/popupUtils.js"),_symbols_support_ElevationInfo_js__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__("./node_modules/@arcgis/core/symbols/support/ElevationInfo.js");const D=_core_Logger_js__WEBPACK_IMPORTED_MODULE_15__.a.getLogger("esri.layers.buildingSublayers.BuildingComponentSublayer"),Q=Object(_support_fieldProperties_js__WEBPACK_IMPORTED_MODULE_31__.a)();let R=class extends(_core_Loadable_js__WEBPACK_IMPORTED_MODULE_14__.a.LoadableMixin(Object(_core_Promise_js__WEBPACK_IMPORTED_MODULE_17__.b)(_BuildingSublayer_js__WEBPACK_IMPORTED_MODULE_28__.a))){constructor(e){super(e),this.type="building-component",this.nodePages=null,this.materialDefinitions=null,this.textureSetDefinitions=null,this.geometryDefinitions=null,this.serviceUpdateTimeStamp=null,this.fields=null,this.associatedLayer=null,this.outFields=null,this.listMode="show",this.renderer=null,this.definitionExpression=null,this.popupEnabled=!0,this.popupTemplate=null,this.layerType="3d-object"}get parsedUrl(){return this.layer?{path:`${this.layer.parsedUrl.path}/sublayers/${this.id}`,query:this.layer.parsedUrl.query}:null}get fieldsIndex(){return new _support_FieldsIndex_js__WEBPACK_IMPORTED_MODULE_32__.a(this.fields)}readAssociatedLayer(e,r){const t=this.layer.associatedFeatureServiceItem,o=r.associatedLayerID;return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_16__.l)(t)&&"number"==typeof o?new _FeatureLayer_js__WEBPACK_IMPORTED_MODULE_27__.default({portalItem:t,layerId:o}):null}get objectIdField(){if(null!=this.fields)for(const e of this.fields)if("oid"===e.type)return e.name;return null}get displayField(){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_16__.l)(this.associatedLayer)?this.associatedLayer.displayField:null}get defaultPopupTemplate(){return this.createPopupTemplate()}load(e){const r=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_16__.l)(e)?e.signal:null,t=this._fetchService(r).then((()=>{this.indexInfo=Object(_support_I3SIndexInfo_js__WEBPACK_IMPORTED_MODULE_33__.a)(this.parsedUrl.path,this.rootNode,this.nodePages,this.apiKey,D,r)}));return this.addResolvingPromise(t),Promise.resolve(this)}createPopupTemplate(e){return Object(_support_popupUtils_js__WEBPACK_IMPORTED_MODULE_36__.a)(this,e)}async _fetchService(e){const r=(await Object(_request_js__WEBPACK_IMPORTED_MODULE_11__.default)(this.parsedUrl.path,{query:{f:"json",token:this.apiKey},responseType:"json",signal:e})).data;this.read(r,{origin:"service",url:this.parsedUrl})}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,r){var t,o,s,i;const a=null==(t=this.getFeatureType(null==r?void 0:r.feature))||null==(o=t.domains)?void 0:o[e];return a&&"inherited"!==a.type?a:null!=(s=null==(i=this.getField(e))?void 0:i.domain)?s:null}getFeatureType(e){return e&&Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_16__.l)(this.associatedLayer)?this.associatedLayer.getFeatureType(e):null}get types(){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_16__.l)(this.associatedLayer)?this.associatedLayer.types:[]}get typeIdField(){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_16__.l)(this.associatedLayer)?this.associatedLayer.typeIdField:null}get geometryType(){return"3d-object"===this.layerType?"mesh":"point"}get profile(){return"3d-object"===this.layerType?"mesh-pyramids":"points"}get capabilities(){const e=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_16__.l)(this.associatedLayer)&&this.associatedLayer.capabilities?this.associatedLayer.capabilities:_support_capabilities_js__WEBPACK_IMPORTED_MODULE_29__.a,{query:r,data:{supportsZ:t,supportsM:o,isVersioned:s}}=e;return{query:r,data:{supportsZ:t,supportsM:o,isVersioned:s}}}createQuery(){const e=new _rest_support_Query_js__WEBPACK_IMPORTED_MODULE_35__.a;return"mesh"!==this.geometryType&&(e.returnGeometry=!0,e.returnZ=!0),e.where=this.definitionExpression||"1=1",e.sqlFormat="standard",e}queryExtent(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryExtent(e||this.createQuery(),r)))}queryFeatureCount(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryFeatureCount(e||this.createQuery(),r)))}queryFeatures(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryFeatures(e||this.createQuery(),r))).then((e=>{if(null!=e&&e.features)for(const r of e.features)r.layer=this.layer,r.sourceLayer=this;return e}))}queryObjectIds(e,r){return this._getAssociatedLayerForQuery().then((t=>t.queryObjectIds(e||this.createQuery(),r)))}getFieldUsageInfo(e){return this.fieldsIndex.has(e)?{supportsLabelingInfo:!1,supportsRenderer:!1,supportsPopupTemplate:!1,supportsLayerQuery:!1}:{supportsLabelingInfo:!1,supportsRenderer:!0,supportsPopupTemplate:!0,supportsLayerQuery:Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_16__.l)(this.associatedLayer)}}_getAssociatedLayerForQuery(){const e=this.associatedLayer;return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_16__.l)(e)&&e.loaded?Promise.resolve(e):this._loadAssociatedLayerForQuery()}async _loadAssociatedLayerForQuery(){if(await this.load(),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_16__.k)(this.associatedLayer))throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_12__.a("buildingscenelayer:query-not-available","BuildingSceneLayer component layer queries are not available without an associated feature layer",{layer:this});try{await this.associatedLayer.load()}catch(e){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_12__.a("buildingscenelayer:query-not-available","BuildingSceneLayer associated feature layer could not be loaded",{layer:this,error:e})}return this.associatedLayer}};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({readOnly:!0})],R.prototype,"parsedUrl",null),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({type:_support_I3SLayerDefinitions_js__WEBPACK_IMPORTED_MODULE_34__.c,readOnly:!0})],R.prototype,"nodePages",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({type:[_support_I3SLayerDefinitions_js__WEBPACK_IMPORTED_MODULE_34__.b],readOnly:!0})],R.prototype,"materialDefinitions",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({type:[_support_I3SLayerDefinitions_js__WEBPACK_IMPORTED_MODULE_34__.d],readOnly:!0})],R.prototype,"textureSetDefinitions",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({type:[_support_I3SLayerDefinitions_js__WEBPACK_IMPORTED_MODULE_34__.a],readOnly:!0})],R.prototype,"geometryDefinitions",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({readOnly:!0})],R.prototype,"serviceUpdateTimeStamp",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({readOnly:!0})],R.prototype,"store",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({type:String,readOnly:!0,json:{read:{source:"store.rootNode"}}})],R.prototype,"rootNode",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({readOnly:!0})],R.prototype,"attributeStorageInfo",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)(Q.fields)],R.prototype,"fields",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({readOnly:!0})],R.prototype,"fieldsIndex",null),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({readOnly:!0,type:_FeatureLayer_js__WEBPACK_IMPORTED_MODULE_27__.default})],R.prototype,"associatedLayer",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_23__.a)("service","associatedLayer",["associatedLayerID"])],R.prototype,"readAssociatedLayer",null),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)(Q.outFields)],R.prototype,"outFields",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({type:String,readOnly:!0})],R.prototype,"objectIdField",null),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({readOnly:!0,type:String,json:{read:!1}})],R.prototype,"displayField",null),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({readOnly:!0,type:String,aliasOf:"layer.apiKey"})],R.prototype,"apiKey",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({readOnly:!0,type:_geometry_Extent_js__WEBPACK_IMPORTED_MODULE_25__.a,aliasOf:"layer.fullExtent"})],R.prototype,"fullExtent",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({readOnly:!0,type:_geometry_SpatialReference_js__WEBPACK_IMPORTED_MODULE_26__.a,aliasOf:"layer.spatialReference"})],R.prototype,"spatialReference",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({readOnly:!0,aliasOf:"layer.version"})],R.prototype,"version",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({readOnly:!0,type:_symbols_support_ElevationInfo_js__WEBPACK_IMPORTED_MODULE_37__.a,aliasOf:"layer.elevationInfo"})],R.prototype,"elevationInfo",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({readOnly:!0,type:Number,aliasOf:"layer.minScale"})],R.prototype,"minScale",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({readOnly:!0,type:Number,aliasOf:"layer.maxScale"})],R.prototype,"maxScale",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({type:["hide","show"],json:{write:!0}})],R.prototype,"listMode",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({types:_renderers_support_types_js__WEBPACK_IMPORTED_MODULE_10__.b,json:{origins:{service:{read:{source:"drawingInfo.renderer"}}},name:"layerDefinition.drawingInfo.renderer",write:!0},value:null})],R.prototype,"renderer",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],R.prototype,"definitionExpression",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_30__.j)],R.prototype,"popupEnabled",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({type:_PopupTemplate_js__WEBPACK_IMPORTED_MODULE_1__.a,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],R.prototype,"popupTemplate",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({readOnly:!0,type:String,json:{origins:{service:{read:{source:"store.normalReferenceFrame"}}},read:!1}})],R.prototype,"normalReferenceFrame",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({readOnly:!0,json:{read:!1}})],R.prototype,"defaultPopupTemplate",null),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)()],R.prototype,"types",null),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)()],R.prototype,"typeIdField",null),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({json:{write:!1}}),Object(_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_22__.a)(new _core_jsonMap_js__WEBPACK_IMPORTED_MODULE_13__.a({"3DObject":"3d-object",Point:"point"}))],R.prototype,"layerType",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)()],R.prototype,"geometryType",null),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)()],R.prototype,"profile",null),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_18__.b)({readOnly:!0,json:{read:!1}})],R.prototype,"capabilities",null),R=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_24__.a)("esri.layers.buildingSublayers.BuildingComponentSublayer")],R);const U=R},"./node_modules/@arcgis/core/layers/buildingSublayers/BuildingSublayer.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return n}));var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/Identifiable.js"),_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/MultiOriginJSONSupport.js"),_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js"),_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./node_modules/@arcgis/core/core/arrayUtils.js"),__webpack_require__("./node_modules/@arcgis/core/core/has.js"),__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/ensureType.js")),_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/reader.js"),_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js"),_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@arcgis/core/layers/support/commonProperties.js");let l=class extends(Object(_core_Identifiable_js__WEBPACK_IMPORTED_MODULE_1__.a)(_core_MultiOriginJSONSupport_js__WEBPACK_IMPORTED_MODULE_2__.b)){constructor(r){super(r),this.title="",this.id=-1,this.modelName=null,this.isEmpty=null,this.visible=!0,this.opacity=1}readTitle(r,e){return"string"==typeof e.alias?e.alias:"string"==typeof e.name?e.name:""}readIdOnlyOnce(r){return-1!==this.id?this.id:"number"==typeof r?r:void 0}};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.b)({type:String,json:{origins:{"web-scene":{write:!0},"portal-item":{write:!0}}}})],l.prototype,"title",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_7__.a)("service","title",["alias","name"])],l.prototype,"readTitle",null),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.b)()],l.prototype,"layer",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.b)({type:_core_accessorSupport_ensureType_js__WEBPACK_IMPORTED_MODULE_6__.a,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],l.prototype,"id",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_reader_js__WEBPACK_IMPORTED_MODULE_7__.a)("service","id")],l.prototype,"readIdOnlyOnce",null),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.b)(Object(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_9__.k)(String))],l.prototype,"modelName",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.b)(Object(_support_commonProperties_js__WEBPACK_IMPORTED_MODULE_9__.k)(Boolean))],l.prototype,"isEmpty",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.b)({type:Boolean,json:{name:"visibility",write:!0}})],l.prototype,"visible",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.b)({type:Number,json:{write:!0}})],l.prototype,"opacity",void 0),l=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_8__.a)("esri.layers.buildingSublayers.BuildingSublayer")],l);const n=l},"./node_modules/@arcgis/core/layers/support/I3SIndexInfo.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return n}));var _request_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/request.js"),_core_Error_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/Error.js"),_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/maybe.js");async function n(n,t,s,a,i,d){let l=null;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.l)(s)){const o=`${n}/nodepages/`,t=o+Math.floor(s.rootIndex/s.nodesPerPage);try{return{type:"page",rootPage:(await Object(_request_js__WEBPACK_IMPORTED_MODULE_0__.default)(t,{query:{f:"json",token:a},responseType:"json",signal:d})).data,rootIndex:s.rootIndex,pageSize:s.nodesPerPage,lodMetric:s.lodSelectionMetricType,urlPrefix:o}}catch(f){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_2__.l)(i)&&i.warn("#fetchIndexInfo()","Failed to load root node page. Falling back to node documents.",t,f),l=f}}if(!t)return null;const p=`${n}/nodes/`,c=p+(t&&t.split("/").pop());try{return{type:"node",rootNode:(await Object(_request_js__WEBPACK_IMPORTED_MODULE_0__.default)(c,{query:{f:"json",token:a},responseType:"json",signal:d})).data,urlPrefix:p}}catch(f){throw new _core_Error_js__WEBPACK_IMPORTED_MODULE_1__.a("sceneservice:root-node-missing","Root node missing.",{pageError:l,nodeError:f,url:c})}}},"./node_modules/@arcgis/core/layers/support/I3SLayerDefinitions.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return m})),__webpack_require__.d(__webpack_exports__,"b",(function(){return l})),__webpack_require__.d(__webpack_exports__,"c",(function(){return s})),__webpack_require__.d(__webpack_exports__,"d",(function(){return u}));var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),_core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/JSONSupport.js"),_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js"),_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./node_modules/@arcgis/core/core/arrayUtils.js"),__webpack_require__("./node_modules/@arcgis/core/core/has.js"),__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/ensureType.js"),__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/enumeration.js")),_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js");let s=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:Number})],s.prototype,"nodesPerPage",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:Number})],s.prototype,"rootIndex",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:String})],s.prototype,"lodSelectionMetricType",void 0),s=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.a)("esri.layer.support.I3SNodePageDefinition")],s);let i=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(){super(...arguments),this.factor=1}};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],i.prototype,"id",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:Number})],i.prototype,"factor",void 0),i=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.a)("esri.layer.support.I3SMaterialTexture")],i);let a=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:[Number]})],a.prototype,"baseColorFactor",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:i})],a.prototype,"baseColorTexture",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:i})],a.prototype,"metallicRoughnessTexture",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:Number})],a.prototype,"metallicFactor",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:Number})],a.prototype,"roughnessFactor",void 0),a=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.a)("esri.layer.support.I3SMaterialPBRMetallicRoughness")],a);let l=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.a)({opaque:"opaque",mask:"mask",blend:"blend"})],l.prototype,"alphaMode",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:Number})],l.prototype,"alphaCutoff",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:Boolean})],l.prototype,"doubleSided",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.a)({none:"none",back:"back",front:"front"})],l.prototype,"cullFace",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:i})],l.prototype,"normalTexture",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:i})],l.prototype,"occlusionTexture",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:i})],l.prototype,"emissiveTexture",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:[Number]})],l.prototype,"emissiveFactor",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:a})],l.prototype,"pbrMetallicRoughness",void 0),l=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.a)("esri.layer.support.I3SMaterialDefinition")],l);let n=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.a{};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:String,json:{read:{source:["name","index"],reader:(e,t)=>null!=e?e:`${t.index}`}}})],n.prototype,"name",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.a)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],n.prototype,"format",void 0),n=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.a)("esri.layer.support.I3STextureFormat")],n);let u=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(){super(...arguments),this.atlas=!1}};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:[n]})],u.prototype,"formats",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:Boolean})],u.prototype,"atlas",void 0),u=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.a)("esri.layer.support.I3STextureSetDefinition")],u);let y=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.a{};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.a)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],y.prototype,"type",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:Number})],y.prototype,"component",void 0),y=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.a)("esri.layer.support.I3SGeometryAttribute")],y);let d=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.a{};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.a)({draco:"draco"})],d.prototype,"encoding",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:[String]})],d.prototype,"attributes",void 0),d=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.a)("esri.layer.support.I3SGeometryCompressedAttributes")],d);let c=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.a{constructor(){super(...arguments),this.offset=0}};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:Number})],c.prototype,"offset",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:y})],c.prototype,"position",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:y})],c.prototype,"normal",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:y})],c.prototype,"uv0",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:y})],c.prototype,"color",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:y})],c.prototype,"uvRegion",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:y})],c.prototype,"featureId",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:y})],c.prototype,"faceRange",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)({type:d})],c.prototype,"compressedAttributes",void 0),c=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.a)("esri.layer.support.I3SGeometryBuffer")],c);let m=class extends _core_JSONSupport_js__WEBPACK_IMPORTED_MODULE_1__.a{};Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_enumeration_js__WEBPACK_IMPORTED_MODULE_6__.a)({triangle:"triangle"})],m.prototype,"topology",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_2__.b)()],m.prototype,"geometryBuffers",void 0),m=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.a)("esri.layer.support.I3SGeometryDefinition")],m)},"./node_modules/@arcgis/core/layers/support/capabilities.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return s}));const s={attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1},data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1},query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsStatistics:!1,tileMaxRecordCount:0}}},"./node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return p}));var _chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/core/maybe.js"),_core_Promise_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/core/Promise.js"),_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js"),_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__=(__webpack_require__("./node_modules/@arcgis/core/core/arrayUtils.js"),__webpack_require__("./node_modules/@arcgis/core/core/has.js"),__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/ensureType.js"),__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js"));const p=p=>{let i=class extends(Object(_core_Promise_js__WEBPACK_IMPORTED_MODULE_2__.b)(p)){constructor(){super(...arguments),this.parent=null}get updating(){return!1}get visible(){const r=!Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_1__.l)(this.parent)||this.parent.visible&&!this.parent.suspended;return this.analysis.visible&&r}};return Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.b)({readOnly:!0})],i.prototype,"type",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.b)({constructOnly:!0})],i.prototype,"analysis",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.b)({constructOnly:!0})],i.prototype,"parent",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.b)({constructOnly:!0})],i.prototype,"view",void 0),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.b)({readOnly:!0})],i.prototype,"updating",null),Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_property_js__WEBPACK_IMPORTED_MODULE_3__.b)({readOnly:!0})],i.prototype,"visible",null),i=Object(_chunks_tslib_es6_js__WEBPACK_IMPORTED_MODULE_0__.a)([Object(_core_accessorSupport_decorators_subclass_js__WEBPACK_IMPORTED_MODULE_7__.a)("esri.views.3d.analysis.AnalysisView3D")],i),i}},"./node_modules/@arcgis/core/views/3d/analysis/Slice/SliceView3D.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"default",(function(){return SliceView3D_p}));var tslib_es6=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),Accessor=__webpack_require__("./node_modules/@arcgis/core/core/Accessor.js"),maybe=__webpack_require__("./node_modules/@arcgis/core/core/maybe.js"),property=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/property.js"),has=(__webpack_require__("./node_modules/@arcgis/core/core/arrayUtils.js"),__webpack_require__("./node_modules/@arcgis/core/core/has.js")),ensureType=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/ensureType.js"),subclass=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/subclass.js"),AnalysisView3D=__webpack_require__("./node_modules/@arcgis/core/views/3d/analysis/AnalysisView3D.js"),Handles=__webpack_require__("./node_modules/@arcgis/core/core/Handles.js"),Logger=__webpack_require__("./node_modules/@arcgis/core/core/Logger.js"),reactiveUtils=__webpack_require__("./node_modules/@arcgis/core/core/reactiveUtils.js"),watchUtils=__webpack_require__("./node_modules/@arcgis/core/core/watchUtils.js"),boundedPlane=__webpack_require__("./node_modules/@arcgis/core/chunks/boundedPlane.js"),Layer=__webpack_require__("./node_modules/@arcgis/core/layers/Layer.js"),BuildingComponentSublayer=__webpack_require__("./node_modules/@arcgis/core/layers/buildingSublayers/BuildingComponentSublayer.js");__webpack_require__("./node_modules/@arcgis/core/geometry.js");var compilerUtils=__webpack_require__("./node_modules/@arcgis/core/core/compilerUtils.js"),mathUtils=__webpack_require__("./node_modules/@arcgis/core/core/mathUtils.js"),screenUtils=__webpack_require__("./node_modules/@arcgis/core/core/screenUtils.js"),mat4=__webpack_require__("./node_modules/@arcgis/core/chunks/mat4.js"),mat4f64=__webpack_require__("./node_modules/@arcgis/core/chunks/mat4f64.js"),vec3=(__webpack_require__("./node_modules/@arcgis/core/chunks/quat.js"),__webpack_require__("./node_modules/@arcgis/core/chunks/vec3.js")),vec3f64=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3f64.js"),projection=__webpack_require__("./node_modules/@arcgis/core/geometry/projection.js"),plane=__webpack_require__("./node_modules/@arcgis/core/geometry/support/plane.js"),ray=__webpack_require__("./node_modules/@arcgis/core/geometry/support/ray.js"),vector=__webpack_require__("./node_modules/@arcgis/core/geometry/support/vector.js"),vectorStacks=__webpack_require__("./node_modules/@arcgis/core/geometry/support/vectorStacks.js"),mat3f64=(__webpack_require__("./node_modules/@arcgis/core/core/Evented.js"),__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/utils.js"),__webpack_require__("./node_modules/@arcgis/core/chunks/mat3.js"),__webpack_require__("./node_modules/@arcgis/core/chunks/mat3f64.js")),lineSegment=(__webpack_require__("./node_modules/@arcgis/core/chunks/vec2.js"),__webpack_require__("./node_modules/@arcgis/core/geometry/projectionEllipsoid.js"),__webpack_require__("./node_modules/@arcgis/core/geometry/support/aaBoundingRect.js"),__webpack_require__("./node_modules/@arcgis/core/geometry/support/lineSegment.js")),ElevationProvider=(__webpack_require__("./node_modules/@arcgis/core/layers/graphics/hydratedFeatures.js"),__webpack_require__("./node_modules/@arcgis/core/views/3d/support/ElevationProvider.js")),Point=(__webpack_require__("./node_modules/@arcgis/core/views/3d/support/geometryUtils/ray.js"),__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Camera.js"),__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3D.js"),__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js"),__webpack_require__("./node_modules/@arcgis/core/geometry/Point.js"));Object(screenUtils.f)(),Object(lineSegment.c)(),Object(ray.c)(),Object(mat3f64.b)(),Object(mat4f64.d)(),Object(mat4f64.d)(),Object(plane.d)(),Object(vec3f64.f)(),Object(vec3f64.f)(),Object(vec3f64.f)(),Object(vec3f64.f)(),Object(vec3f64.f)(),Object(vec3f64.f)(),new Point.a({x:0,y:0,z:0,spatialReference:null});var vec4f64=__webpack_require__("./node_modules/@arcgis/core/chunks/vec4f64.js"),GeometryUtil=(__webpack_require__("./node_modules/@arcgis/core/views/3d/layers/graphics/graphicUtils.js"),__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GeometryUtil.js")),GLMaterial=(__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ColorMaterial.js"),__webpack_require__("./node_modules/@arcgis/core/geometry/support/aaBoundingBox.js"),__webpack_require__("./node_modules/@arcgis/core/geometry/support/buffer/BufferView.js"),__webpack_require__("./node_modules/@arcgis/core/views/3d/support/buffer/InterleavedLayout.js"),__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterial.js")),Material=(__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterials.js"),__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js")),MaterialUtil=(__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Util.js"),__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/bufferWriterUtils.js"),__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/MaterialUtil.js")),ScreenSizeScaling_glsl=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js"),Slice_glsl=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js"),MultipassTerrainTest_glsl=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js"),View_glsl=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js"),ReloadableShaderModule=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js"),ShaderTechnique=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js"),ShaderTechniqueConfiguration=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js"),OrderIndependentTransparency=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js"),Program=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js"),ShadedColorMaterial_glsl=__webpack_require__("./node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js"),renderState=__webpack_require__("./node_modules/@arcgis/core/views/webgl/renderState.js");class ShadedColorMaterialTechnique_S extends ShaderTechnique.a{initializeProgram(e){const r=ShadedColorMaterialTechnique_S.shader.get(),i=this.configuration,t=r.build({output:i.output,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,screenSizeEnabled:i.screenSizeEnabled,shadingEnabled:i.shadingEnabled,OITEnabled:0===i.transparencyPassType,multipassTerrainEnabled:i.multipassTerrainEnabled,cullAboveGround:i.cullAboveGround});return new Program.a(e.rctx,t,P)}bindPass(e,r){const{screenSizeEnabled:t,shadingEnabled:a}=this.configuration,{color:n,shadingTint:l,shadingDirection:p}=e;Object(View_glsl.c)(this.program,r.camera.projectionMatrix),this.program.setUniform4fv("color",n),r.multipassTerrainEnabled&&(this.program.setUniform2fv("cameraNearFar",r.camera.nearFar),this.program.setUniform2fv("inverseViewport",r.inverseViewport),Object(MultipassTerrainTest_glsl.a)(this.program,r)),a&&(this.program.setUniform4fv("shadedColor",this.blendColor(ShadedColorMaterialTechnique_w,l,n)),this.program.setUniform3fv("shadingDirection",p),this.program.setUniformMatrix4fv("viewNormal",r.camera.viewInverseTransposeMatrix)),t&&Object(ScreenSizeScaling_glsl.b)(this.program,e,r)}bindDraw(e){Object(View_glsl.d)(this.program,e),Object(View_glsl.a)(this.program,e.origin,e.camera.viewInverseTransposeMatrix),Object(Slice_glsl.c)(this.program,this.configuration,e),this.program.rebindTextures()}blendColor(e,r,i){const t=1-r[3],o=r[3]+i[3]*t;return 0===o?(e[3]=o,e):(e[0]=(r[0]*r[3]+i[0]*i[3]*t)/o,e[1]=(r[1]*r[3]+i[1]*i[3]*t)/o,e[2]=(r[2]*r[3]+i[2]*i[3]*t)/o,e[3]=i[3],e)}setPipelineState(e){const r=this.configuration,i=3===e,t=2===e;return Object(renderState.g)({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?OrderIndependentTransparency.g:Object(OrderIndependentTransparency.a)(e),culling:Object(renderState.c)(r.cullFace),depthTest:{func:t?513:r.shadingEnabled?515:513},depthWrite:i?r.writeDepth&&renderState.e:Object(OrderIndependentTransparency.c)(e),colorWrite:renderState.d,polygonOffset:i||t?null:OrderIndependentTransparency.d})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}ShadedColorMaterialTechnique_S.shader=new ReloadableShaderModule.a(ShadedColorMaterial_glsl.a,(()=>__webpack_require__.e(242).then(__webpack_require__.bind(null,"./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterial.glsl.js"))));class ShadedColorMaterialTechnique_j extends ShaderTechniqueConfiguration.a{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}Object(tslib_es6.a)([Object(ShaderTechniqueConfiguration.b)({count:8})],ShadedColorMaterialTechnique_j.prototype,"output",void 0),Object(tslib_es6.a)([Object(ShaderTechniqueConfiguration.b)({count:3})],ShadedColorMaterialTechnique_j.prototype,"cullFace",void 0),Object(tslib_es6.a)([Object(ShaderTechniqueConfiguration.b)()],ShadedColorMaterialTechnique_j.prototype,"slicePlaneEnabled",void 0),Object(tslib_es6.a)([Object(ShaderTechniqueConfiguration.b)()],ShadedColorMaterialTechnique_j.prototype,"transparent",void 0),Object(tslib_es6.a)([Object(ShaderTechniqueConfiguration.b)()],ShadedColorMaterialTechnique_j.prototype,"writeDepth",void 0),Object(tslib_es6.a)([Object(ShaderTechniqueConfiguration.b)()],ShadedColorMaterialTechnique_j.prototype,"screenSizeEnabled",void 0),Object(tslib_es6.a)([Object(ShaderTechniqueConfiguration.b)()],ShadedColorMaterialTechnique_j.prototype,"shadingEnabled",void 0),Object(tslib_es6.a)([Object(ShaderTechniqueConfiguration.b)({count:4})],ShadedColorMaterialTechnique_j.prototype,"transparencyPassType",void 0),Object(tslib_es6.a)([Object(ShaderTechniqueConfiguration.b)()],ShadedColorMaterialTechnique_j.prototype,"multipassTerrainEnabled",void 0),Object(tslib_es6.a)([Object(ShaderTechniqueConfiguration.b)()],ShadedColorMaterialTechnique_j.prototype,"cullAboveGround",void 0);const P=new Map([["position",0],["normal",1],["offset",2]]),ShadedColorMaterialTechnique_w=Object(vec4f64.e)();Material.a;GLMaterial.a;Object(vec3.t)(Object(vec3f64.f)(),[.5,-.5,-.5]),Material.b;Object(vec3f64.f)(),Object(vec3f64.f)();function manipulatorUtils_b(e,t,r,n){const c=Object(vec3.t)(vectorStacks.d.get(),e),i=Object(vec3.t)(vectorStacks.d.get(),t),l=Object(vec3.i)(vectorStacks.d.get(),c,i);return n[0]=c[0],n[1]=c[1],n[2]=c[2],n[3]=0,n[4]=i[0],n[5]=i[1],n[6]=i[2],n[7]=0,n[8]=l[0],n[9]=l[1],n[10]=l[2],n[11]=0,n[12]=r[0],n[13]=r[1],n[14]=r[2],n[15]=1,n}Object(has.a)("mac"),Math.cos(Object(mathUtils.h)(45)),Math.cos(Object(mathUtils.h)(5));const sliceToolConfig_n=[1,.5,0],sliceToolConfig_S=[...sliceToolConfig_n,.7],sliceToolConfig_U=[0,0,0,.04],sliceToolConfig_b=[...sliceToolConfig_n,.5];var LineVisualElement=__webpack_require__("./node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js"),vec4=__webpack_require__("./node_modules/@arcgis/core/chunks/vec4.js"),vec4f32=__webpack_require__("./node_modules/@arcgis/core/chunks/vec4f32.js"),Object3DVisualElement=__webpack_require__("./node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js"),DefaultBufferWriter=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/DefaultBufferWriter.js"),DefaultVertexAttributeLocations=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js"),SlicePlaneMaterial_glsl=__webpack_require__("./node_modules/@arcgis/core/chunks/SlicePlaneMaterial.glsl.js");class SlicePlaneMaterialTechnique_d extends ShaderTechnique.a{initializeProgram(r){const e=SlicePlaneMaterialTechnique_d.shader.get().build();return new Program.a(r.rctx,e,DefaultVertexAttributeLocations.a)}bindPass(e,i){Object(View_glsl.c)(this.program,i.camera.projectionMatrix),this.program.setUniform4fv("backgroundColor",e.backgroundColor),this.program.setUniform4fv("gridColor",e.gridColor),this.program.setUniform1f("gridWidth",e.gridWidth)}bindDraw(r){Object(View_glsl.d)(this.program,r),this.program.rebindTextures()}initializePipeline(){return Object(renderState.g)({blending:Object(renderState.h)(1,1,771,771),depthTest:{func:513},colorWrite:renderState.d})}}SlicePlaneMaterialTechnique_d.shader=new ReloadableShaderModule.a(SlicePlaneMaterial_glsl.a,(()=>__webpack_require__.e(245).then(__webpack_require__.bind(null,"./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/SlicePlaneMaterial.glsl.js"))));class SlicePlaneMaterial_l extends Material.a{constructor(r){super(r,SlicePlaneMaterial_m),this._config=new ShaderTechniqueConfiguration.a}intersect(r,e,t,i,n,o,s){return Object(MaterialUtil.i)(r,e,i,n,o,void 0,s)}createBufferWriter(){return new DefaultBufferWriter.a(DefaultBufferWriter.d)}requiresSlot(r){return 7===r}createGLMaterial(r){return 0===r.output?new SlicePlaneMaterial_c(r):null}getTechniqueConfig(){return this._config}}class SlicePlaneMaterial_c extends GLMaterial.a{constructor(r){super(r),this.ensureTechnique(SlicePlaneMaterialTechnique_d,null)}updateParameters(){return Object(maybe.u)(this.technique)}beginSlot(){return Object(maybe.u)(this.technique)}bind(r,e){e.bindPass(this._material.parameters,r)}}const SlicePlaneMaterial_m={backgroundColor:[1,0,0,.5],gridColor:[0,1,0,.5],gridWidth:4,...Material.b};class SlicePlaneVisualElement_d extends Object3DVisualElement.a{constructor(r){super(r),this._material=null,this._renderOccluded=4,this._gridWidth=1,this._gridColor=Object(vec4f32.c)(1,0,0,1),this._backgroundColor=Object(vec4f32.c)(1,0,0,1),this.applyProps(r)}get renderOccluded(){return this._renderOccluded}set renderOccluded(r){r!==this._renderOccluded&&(this._renderOccluded=r,this._updateMaterial())}get gridWidth(){return this._gridWidth}set gridWidth(r){this._gridWidth!==r&&(this._gridWidth=r,this._updateMaterial())}get gridColor(){return this._gridColor}set gridColor(r){Object(vec4.c)(this._gridColor,r),this._updateMaterial()}get backgroundColor(){return this._backgroundColor}set backgroundColor(r){Object(vec4.c)(this._backgroundColor,r),this._updateMaterial()}createExternalResources(){this._material=new SlicePlaneMaterial_l(this.materialParameters)}destroyExternalResources(){this._material=null}forEachExternalMaterial(e){Object(maybe.l)(this._material)&&e(this._material)}createGeometries(e){if(Object(maybe.l)(this._material)){const r=GeometryUtil.a.createSquareGeometry();e.addGeometry(r,this._material)}}get materialParameters(){return{backgroundColor:this._backgroundColor,gridWidth:this._gridWidth,gridColor:this._gridColor,renderOccluded:this._renderOccluded}}_updateMaterial(){Object(maybe.l)(this._material)&&this._material.setParameters(this.materialParameters)}}var SlicePlane_m,RenderCoordsHelper=__webpack_require__("./node_modules/@arcgis/core/views/3d/support/RenderCoordsHelper.js"),JSONSupport=(__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Geometry.js"),__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js"),__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/materials/NativeLineMaterial.js"),__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js"),__webpack_require__("./node_modules/@arcgis/core/core/JSONSupport.js")),lang=__webpack_require__("./node_modules/@arcgis/core/core/lang.js"),cast=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/cast.js"),persistable=__webpack_require__("./node_modules/@arcgis/core/core/accessorSupport/decorators/persistable.js"),support_mathUtils=__webpack_require__("./node_modules/@arcgis/core/views/3d/support/mathUtils.js");let SlicePlane_c=SlicePlane_m=class extends JSONSupport.a{constructor(t){super(t),this.type="plane",this.position=null,this.heading=0,this.tilt=0,this.width=10,this.height=10}clone(){return new SlicePlane_m({position:Object(lang.a)(this.position),heading:this.heading,tilt:this.tilt,width:this.width,height:this.height})}equals(t){return this.heading===t.heading&&this.tilt===t.tilt&&Object(maybe.g)(this.position,t.position)&&this.width===t.width&&this.height===t.height}};Object(tslib_es6.a)([Object(property.b)({readOnly:!0,json:{read:!1,write:!0}})],SlicePlane_c.prototype,"type",void 0),Object(tslib_es6.a)([Object(property.b)({type:Point.a}),Object(persistable.a)()],SlicePlane_c.prototype,"position",void 0),Object(tslib_es6.a)([Object(property.b)({type:Number,nonNullable:!0,range:{min:0,max:360}}),Object(persistable.a)(),Object(cast.a)((t=>support_mathUtils.e.normalize(Object(ensureType.i)(t),0,!0)))],SlicePlane_c.prototype,"heading",void 0),Object(tslib_es6.a)([Object(property.b)({type:Number,nonNullable:!0,range:{min:0,max:360}}),Object(persistable.a)(),Object(cast.a)((t=>support_mathUtils.e.normalize(Object(ensureType.i)(t),0,!0)))],SlicePlane_c.prototype,"tilt",void 0),Object(tslib_es6.a)([Object(property.b)({type:Number,nonNullable:!0}),Object(persistable.a)()],SlicePlane_c.prototype,"width",void 0),Object(tslib_es6.a)([Object(property.b)({type:Number,nonNullable:!0}),Object(persistable.a)()],SlicePlane_c.prototype,"height",void 0),SlicePlane_c=SlicePlane_m=Object(tslib_es6.a)([Object(subclass.a)("esri.widgets.Slice.SlicePlane")],SlicePlane_c);const SlicePlane_d=SlicePlane_c;__webpack_require__("./node_modules/@arcgis/core/geometry/Extent.js");const He=Logger.a.getLogger("esri.views.3d.interactive.analysisTools.slice.sliceToolUtils");function dt(e,t,r,n=new SlicePlane_d){if(Object(maybe.k)(e))return null;const{renderCoordsHelper:o}=t,a=o.fromRenderCoords(e.origin,t.spatialReference);if(Object(maybe.k)(a))return null;const c=Object(projection.D)(a,r);if(Object(maybe.k)(c))return null;n.position=c;const l=o.worldUpAtPosition(e.origin,vectorStacks.d.get()),u=o.worldBasisAtPosition(e.origin,1,vectorStacks.d.get()),m=2*Object(vec3.r)(e.basis1),d=2*Object(vec3.r)(e.basis2),p=RenderCoordsHelper.a.renderUnitScaleFactor(t.spatialReference,r);return n.width=m*p,n.height=d*p,n.tilt=Object(mathUtils.p)(ft(e,l)),n.heading=Object(mathUtils.p)(function bt(e,t,i){return Object(vector.b)(e.basis1,i,t)-Rt}(e,l,u)),n}function ft(e,t){return Object(vector.b)(t,e.basis2,e.basis1)+Rt}function yt(e,t){if(Object(maybe.k)(e)||Object(maybe.k)(e.position))return null;const i=Object(projection.D)(e.position,t);if(Object(maybe.k)(i))return null;const r=RenderCoordsHelper.a.renderUnitScaleFactor(e.position.spatialReference,t),n=e.width*r,o=e.height*r;return{position:i,heading:e.heading,tilt:e.tilt,renderWidth:n,renderHeight:o}}function jt(e,t,i,r=Object(boundedPlane.d)()){if(Object(maybe.k)(e))return null;let a=e.position;!e.position.hasZ&&Object(maybe.l)(t.elevationProvider)&&(a=e.position.clone(),a.z=Object(maybe.v)(Object(ElevationProvider.b)(t.elevationProvider,e.position),0));const c=function ht(e,t,i,s,n,o,a=Object(boundedPlane.d)()){return o.toRenderCoords(e,a.origin)?(o.worldBasisAtPosition(a.origin,0,a.basis1),o.worldBasisAtPosition(a.origin,1,a.basis2),Object(plane.j)(a.basis2,a.basis1,a.origin,a.plane),Object(boundedPlane.j)(a,-Object(mathUtils.h)(t),Object(boundedPlane.i)(a),a),Object(boundedPlane.j)(a,Object(mathUtils.h)(i),a.basis1,a),Object(vec3.g)(a.basis1,a.basis1,s/2),Object(vec3.g)(a.basis2,a.basis2,n/2),Object(boundedPlane.l)(a),a):(He.error(`Failed to project slice plane position, projection from ${e.spatialReference.wkid} is not supported`),null)}(a,e.heading,e.tilt,e.renderWidth,e.renderHeight,t.renderCoordsHelper,r);return!i.tiltEnabled&&Object(maybe.l)(c)&&function We(e,t,i){const r=t.worldUpAtPosition(e.origin,vectorStacks.d.get()),s=e.basis1,n=ft(e,r),o=Math.round(n/Rt)*Rt;return Object(boundedPlane.j)(e,o-n,s,i)}(c,t.renderCoordsHelper,c),c}Object(ray.c)();const Rt=Math.PI/2;function Ot(e){const t="building-scene-3d"===e.type?e:null;return Object(maybe.l)(t)}const SliceController_g=Logger.a.getLogger("esri.views.3d.analysis.Slice.SliceController");let SliceController_S=class extends Accessor.a{constructor(e){super(e),this._handles=new Handles.a,this._internalChange=!1,this._currentSlicePlane=null,this.state="pending"}get ready(){return"ready"===this.state}initialize(){this._handles.add(this.analysis.excludedLayers.on("before-add",(e=>{const i=e.item;null!=i&&(i instanceof Layer.a||i instanceof BuildingComponentSublayer.a)?i instanceof Layer.a&&function Mt(t){switch(t.type){case"analysis":case"building-scene":case"csv":case"feature":case"geo-rss":case"geojson":case"graphics":case"group":case"integrated-mesh":case"kml":case"map-notes":case"ogc-feature":case"point-cloud":case"route":case"scene":case"stream":case"voxel":case"subtype-group":case"unknown":case"unsupported":case"wfs":case null:return!1;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"elevation":case"imagery":case"imagery-tile":case"map-image":case"open-street-map":case"tile":case"vector-tile":case"wcs":case"web-tile":case"wms":case"wmts":return!0;default:return Object(compilerUtils.a)(t.type),!1}}(i)?(SliceController_g.error("excludedLayers",`Layer '${i.title}, id:${i.id}' of type '${i.type}' can not be individually excluded from slicing. Use 'excludeGroundSurface' instead.`),e.preventDefault()):this.analysis.excludedLayers.includes(i)&&e.preventDefault():(SliceController_g.error("excludedLayers","Invalid layer type, layer must derive from Layer or BuildingComponentSublayer"),e.preventDefault())}))),this._handles.add(Object(reactiveUtils.c)((()=>this.view.ready&&Object(maybe.l)(this.view.renderCoordsHelper)),(()=>this._initialize()),{sync:!0,initial:!0,once:!0}))}_initialize(){"destroyed"!==this.state&&"ready"!==this.state&&(function SliceController_L(e,i){SliceController_b.has(e)||SliceController_b.set(e,{all:[],activeController:null}),SliceController_b.get(e).all.push(i)}(this.view,this),this._handles.add([Object(reactiveUtils.b)((()=>this.analysisView.analysisViewData.plane),(()=>{this._internalChange||this._updateSlicePlaneFromBoundedPlane(),this._updateLayerViews()}),{sync:!0}),Object(reactiveUtils.b)((()=>this.analysis.excludeGroundSurface),(()=>this._updateLayerViews()),{sync:!0}),this.analysis.excludedLayers.on("change",(()=>this._updateLayerViews())),Object(reactiveUtils.b)((()=>[this.analysisView.active,this.analysisView.visible]),(()=>{this._updateActiveController(),this._updateViewSlicePlane()}),{sync:!0}),Object(reactiveUtils.b)((()=>this._allLayerAndSubLayerViews),(()=>this._updateLayerViews()))]),this._handles.add([Object(reactiveUtils.b)((()=>this.analysis.shape),(()=>{this._internalChange||(this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane())}),{sync:!0})],"analysis"),this._set("state","ready"),this._updateActiveController(),this._updateBoundedPlaneFromSlicePlane(),this._updateViewSlicePlane())}destroy(){"destroyed"!==this.state&&"pending"!==this.state&&(this.analysisView.active=!1,function SliceController_x(e,i){if(!SliceController_b.has(e))throw new Error("view expected in global slice register");const t=SliceController_b.get(e),s=t.all.lastIndexOf(i);if(-1===s)throw new Error("controller expected in global slice register");t.all.splice(s,1),0===t.all.length&&SliceController_b.delete(e)}(this.view,this),this._handles.destroy(),this.view.slicePlane=null,this.set("view",null),this._set("state","destroyed"))}async whenReady(){return await Object(watchUtils.k)(this,"ready"),this}get _allLayerAndSubLayerViews(){const e=this.view.allLayerViews.items;return e.concat(e.filter(Ot).flatMap((({sublayerViews:e})=>e.items)))}_updateBoundedPlaneFromSlicePlane(){const e=this.analysis.shape,i=this._currentSlicePlane;if(Object(maybe.k)(i)&&Object(maybe.k)(e)||Object(maybe.l)(i)&&Object(maybe.l)(e)&&e.equals(i))return;let t=null,s=null;if(Object(maybe.l)(e)&&Object(maybe.l)(e.position)){const i=e.position.spatialReference,n=yt(e,this.view.spatialReference);Object(maybe.k)(n)&&function loggerUtils_e(e,o,i){i.warnOnce(`Failed to project analysis geometry (id: '${e.id}'), projection from spatial reference (wkid: '${o.wkid}') to view spatial reference is not supported. Projection may be possible after calling projection.load().`)}(this.analysis,i,SliceController_g),t=jt(n,this.view,{tiltEnabled:this.analysis.tiltEnabled},Object(boundedPlane.d)()),Object(maybe.l)(t)&&(s={heading:e.heading,tilt:e.tilt,position:e.position,width:e.width,height:e.height})}this._currentSlicePlane=s,this._internalChange=!0,this.analysisView.analysisViewData.plane=t,this._internalChange=!1}_updateSlicePlaneFromBoundedPlane(){const i=dt(this.analysisView.analysisViewData.plane,this.view,this.view.spatialReference,new SlicePlane_d);let t=null;Object(maybe.l)(i)&&(t={heading:i.heading,tilt:i.tilt,position:i.position,width:i.width,height:i.height}),this._currentSlicePlane=t,this._internalChange=!0,this.analysis.shape=i,this._internalChange=!1,this._updateViewSlicePlane()}_updateActiveController(){if(SliceController_C)return;const e=SliceController_j(this.view);if(this.analysisView.active)Object(maybe.l)(e.activeController)&&e.activeController!==this?(SliceController_C=!0,e.activeController.analysisView.active=!1,SliceController_C=!1):Object(maybe.l)(e.activeController)&&e.activeController,this._updateLayerViews(),e.activeController=this;else{if(Object(maybe.l)(e.activeController)&&e.activeController!==this)return;Object(maybe.l)(e.activeController)&&e.activeController===this&&(e.activeController=null,this._updateLayerViews())}}_updateViewSlicePlane(){"ready"===this.state&&function SliceController_P(e){const i=SliceController_j(e).activeController;Object(maybe.l)(i)&&Object(maybe.l)(i.analysisView.analysisViewData.plane)&&i.analysisView.visible?e.slicePlane=i.analysisView.analysisViewData.plane:e.slicePlane=null}(this.view)}_updateLayerViews(){const e=Object(maybe.l)(this.analysisView.analysisViewData.plane)&&this.analysisView.visible&&this.analysisView.active,i=[],t=e=>{"layers"in e?e.layers.forEach(t):i.push(e)};this.analysis.excludedLayers.forEach(t),this.view.allLayerViews.forEach((t=>{t.destroyed||("slicePlaneEnabled"in t&&(t.slicePlaneEnabled=e&&i.indexOf(t.layer)<0),"sublayerViews"in t&&t.sublayerViews.forEach((t=>{t.slicePlaneEnabled=e&&i.indexOf(t.sublayer)<0})))})),null!=this.view.basemapTerrain&&(this.view.basemapTerrain.slicePlaneEnabled=e&&!this.analysis.excludeGroundSurface)}};Object(tslib_es6.a)([Object(property.b)({readOnly:!0})],SliceController_S.prototype,"state",void 0),Object(tslib_es6.a)([Object(property.b)()],SliceController_S.prototype,"view",void 0),Object(tslib_es6.a)([Object(property.b)()],SliceController_S.prototype,"analysis",void 0),Object(tslib_es6.a)([Object(property.b)()],SliceController_S.prototype,"analysisView",void 0),Object(tslib_es6.a)([Object(property.b)()],SliceController_S.prototype,"ready",null),Object(tslib_es6.a)([Object(property.b)()],SliceController_S.prototype,"_allLayerAndSubLayerViews",null),SliceController_S=Object(tslib_es6.a)([Object(subclass.a)("esri.views.3d.analysis.Slice.SliceController")],SliceController_S);const SliceController_b=new Map;let SliceController_C=!1;function SliceController_j(e){return SliceController_b.get(e)}let SliceViewData_t=class extends Accessor.a{constructor(){super(...arguments),this.plane=null}};Object(tslib_es6.a)([Object(property.b)()],SliceViewData_t.prototype,"plane",void 0),SliceViewData_t=Object(tslib_es6.a)([Object(subclass.a)("esri.views.3d.analysis.Slice.SliceViewData")],SliceViewData_t);var lineStippleUtils=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/materials/lineStippleUtils.js");let SliceVisualization_k=class extends Accessor.a{constructor(t){super(t),this._handles=new Handles.a,this._gridVisualElement=null,this._outlineVisualElement=null,this.state="pending",this.showGrid=!1,this.editable=!0}get ready(){return"ready"===this.state}initialize(){this._initialize()}async _initialize(){if("destroyed"===this.state||"ready"===this.state)return;await Object(watchUtils.k)(this.view,"ready",!0);const t=this.analysisView.analysisViewData;if(Object(maybe.k)(t))throw new Error("expected internal object to be valid");this._gridVisualElement=function at(e){return new SlicePlaneVisualElement_d({view:e,attached:!0,backgroundColor:[...sliceToolConfig_U],gridColor:sliceToolConfig_b,gridWidth:4,renderOccluded:4})}(this.view),this._outlineVisualElement=function ot(e){return new LineVisualElement.a({view:e,attached:!0,color:sliceToolConfig_S,width:1,writeDepthEnabled:!1,renderOccluded:4,geometry:[[[-1,-1,0],[1,-1,0],[1,1,0],[-1,1,0],[-1,-1,0]]]})}(this.view),this._handles.add([Object(reactiveUtils.b)((()=>({visible:Object(maybe.l)(t.plane)&&this.analysisView.visible,active:this.analysisView.active,editable:this.editable,showGrid:this.showGrid})),(t=>this._updateMaterials(t)),reactiveUtils.e),Object(reactiveUtils.b)((()=>t.plane),(t=>this._updatePlane(t)),reactiveUtils.e)],"internal"),this._set("state","ready")}destroy(){"destroyed"!==this.state&&"pending"!==this.state&&(this._handles.destroy(),this._gridVisualElement=Object(maybe.e)(this._gridVisualElement),this._outlineVisualElement=Object(maybe.e)(this._outlineVisualElement),this.set("view",null),this._set("state","destroyed"))}async whenReady(){return await Object(watchUtils.k)(this,"ready"),this}_updatePlane(t){if(Object(maybe.k)(t))return;const i=Object(vec3.y)(vectorStacks.d.get(),Object(vec3.r)(t.basis1),Object(vec3.r)(t.basis2),1),e=Object(mat4.w)(vectorStacks.a.get(),i),r=function Ne(e,t){return manipulatorUtils_b(e.basis1,e.basis2,e.origin,t)}(t,vectorStacks.a.get()),a=Object(mat4.m)(e,r,e);this._outlineVisualElement.transform=a,this._gridVisualElement.transform=a}_updateMaterials({visible:t,active:i,editable:e,showGrid:s}){this._outlineVisualElement.color=sliceToolConfig_S,this._outlineVisualElement.width=e?1:2,this._outlineVisualElement.stipplePattern=i?null:Object(lineStippleUtils.a)(5);const r=s?sliceToolConfig_b:[0,0,0,0];this._gridVisualElement.backgroundColor=sliceToolConfig_U,this._gridVisualElement.gridColor=r,this._gridVisualElement.visible=t,this._outlineVisualElement.visible=t}};Object(tslib_es6.a)([Object(property.b)({readOnly:!0})],SliceVisualization_k.prototype,"state",void 0),Object(tslib_es6.a)([Object(property.b)()],SliceVisualization_k.prototype,"view",void 0),Object(tslib_es6.a)([Object(property.b)()],SliceVisualization_k.prototype,"analysis",void 0),Object(tslib_es6.a)([Object(property.b)()],SliceVisualization_k.prototype,"analysisView",void 0),Object(tslib_es6.a)([Object(property.b)()],SliceVisualization_k.prototype,"ready",null),Object(tslib_es6.a)([Object(property.b)()],SliceVisualization_k.prototype,"showGrid",void 0),Object(tslib_es6.a)([Object(property.b)()],SliceVisualization_k.prototype,"editable",void 0),SliceVisualization_k=Object(tslib_es6.a)([Object(subclass.a)("esri.views.3d.analysis.Slice.SliceVisualization")],SliceVisualization_k);let SliceView3D_y=class extends(Object(AnalysisView3D.a)(Accessor.a)){constructor(i){super(i),this.type="slice-view",this.analysisVisualization=null,this.analysisController=null,this.analysisViewData=new SliceViewData_t,this.active=!0,this.showGrid=!1,this.editable=!1}initialize(){this.analysisVisualization=new SliceVisualization_k({view:this.view,analysis:this.analysis,analysisView:this}),this.analysisController=new SliceController_S({view:this.view,analysis:this.analysis,analysisView:this})}destroy(){this.analysisVisualization=Object(maybe.e)(this.analysisVisualization),this.analysisController=Object(maybe.e)(this.analysisController)}async when(){return await this.analysisVisualization.whenReady(),await this.analysisController.whenReady(),this}get testData(){return{visualization:this.analysisVisualization,controller:this.analysisController}}};Object(tslib_es6.a)([Object(property.b)()],SliceView3D_y.prototype,"type",void 0),Object(tslib_es6.a)([Object(property.b)()],SliceView3D_y.prototype,"analysis",void 0),Object(tslib_es6.a)([Object(property.b)()],SliceView3D_y.prototype,"analysisViewData",void 0),Object(tslib_es6.a)([Object(property.b)()],SliceView3D_y.prototype,"active",void 0),Object(tslib_es6.a)([Object(property.b)({aliasOf:"analysisVisualization.showGrid"})],SliceView3D_y.prototype,"showGrid",void 0),Object(tslib_es6.a)([Object(property.b)({aliasOf:"analysisVisualization.editable"})],SliceView3D_y.prototype,"editable",void 0),SliceView3D_y=Object(tslib_es6.a)([Object(subclass.a)("esri.views.3d.analysis.Slice.SliceView3D")],SliceView3D_y);const SliceView3D_p=SliceView3D_y},"./node_modules/@arcgis/core/views/3d/interactive/visualElements/LineVisualElement.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return m}));var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/maybe.js"),_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat4.js"),_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat4f64.js"),_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3.js"),_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec3f64.js"),_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec4.js"),_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@arcgis/core/chunks/vec4f32.js"),_Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js"),_layers_graphics_lineUtils_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@arcgis/core/views/3d/layers/graphics/lineUtils.js"),_webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/materials/RibbonLineMaterial.js");class m extends _Object3DVisualElement_js__WEBPACK_IMPORTED_MODULE_7__.a{constructor(e){super(e),this._renderOccluded=4,this._width=1,this._color=Object(_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_6__.c)(1,0,1,1),this._innerWidth=1,this._innerColor=null,this._stipplePattern=null,this._stippleOffColor=null,this._stipplePreferContinuous=!0,this._writeDepthEnabled=!0,this._falloff=0,this._polygonOffset=!1,this.applyProps(e)}setGeometryFromRenderSpacePoint(e){const t=1e3,r=[];r.push([[e[0]-t,e[1]+0,e[2]+0],[e[0]+t,e[1]+0,e[2]+0]]),r.push([[e[0]-0,e[1]-t,e[2]+0],[e[0]+0,e[1]+t,e[2]+0]]),r.push([[e[0]-0,e[1]+0,e[2]-t],[e[0]+0,e[1]+0,e[2]+t]]),this.geometry=r}setGeometryFromExtent(e){const t=this.view.spatialReference,r=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(),s=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(),i=100,n=[];Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.y)(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.y)(r,e[2],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.y)(r,e[2],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.y)(r,e[0],e[3],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.y)(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),Object(_chunks_vec3_js__WEBPACK_IMPORTED_MODULE_3__.y)(r,e[0],e[1],i),this.view.renderCoordsHelper.toRenderCoords(r,t,s),n.push([s[0],s[1],s[2]]),this.geometry=[n]}setGeometryFromFrustum(e){const t=[];e.lines.forEach((e=>{t.push([e.origin[0],e.origin[1],e.origin[2]]),t.push([e.endpoint[0],e.endpoint[1],e.endpoint[2]])})),this.geometry=[t]}setGeometryFromBoundedPlane(e){const t=[],r=e.origin,s=e.basis1,i=e.basis2,o=.5,n=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(),h=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(),a=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.f)(),p=Object(_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.f)();n[0]=r[0]-s[0]*o-i[0]*o,n[1]=r[1]-s[1]*o-i[1]*o,n[2]=r[2]-s[2]*o-i[2]*o,h[0]=r[0]-s[0]*o+i[0]*o,h[1]=r[1]-s[1]*o+i[1]*o,h[2]=r[2]-s[2]*o+i[2]*o,a[0]=r[0]+s[0]*o+i[0]*o,a[1]=r[1]+s[1]*o+i[1]*o,a[2]=r[2]+s[2]*o+i[2]*o,p[0]=r[0]+s[0]*o-i[0]*o,p[1]=r[1]+s[1]*o-i[1]*o,p[2]=r[2]+s[2]*o-i[2]*o,t.push([n[0],n[1],n[2]]),t.push([h[0],h[1],h[2]]),t.push([a[0],a[1],a[2]]),t.push([p[0],p[1],p[2]]),t.push([n[0],n[1],n[2]]),this.geometry=[t]}setGeometryFromSegment(e){const t=e.endRenderSpace;Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.i)(g),Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.a)(g,g,t),this.transform=g;const{points:i}=e.createRenderGeometry(t,this.view.renderCoordsHelper);this.geometry=[i]}setGeometryFromSegments(e,t=_chunks_vec3f64_js__WEBPACK_IMPORTED_MODULE_4__.c){Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.i)(g),Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.a)(g,g,t),this.transform=g,this.geometry=e.map((e=>e.createRenderGeometry(t,this.view.renderCoordsHelper).points))}get renderOccluded(){return this._renderOccluded}set renderOccluded(e){e!==this._renderOccluded&&(this._renderOccluded=e,this._updateMaterial())}get geometry(){return this._geometry}set geometry(e){this._geometry=e,this.recreateGeometry()}get width(){return this._width}set width(e){e!==this._width&&(this._width=e,this._updateMaterial())}get color(){return this._color}set color(e){Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__.g)(e,this._color)||(Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__.c)(this._color,e),this._updateMaterial())}get innerWidth(){return this._innerWidth}set innerWidth(e){e!==this._innerWidth&&(this._innerWidth=e,this._updateMaterial())}get innerColor(){return this._innerColor}set innerColor(r){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.l)(r)?!Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.k)(this._innerColor)&&Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__.g)(r,this._innerColor)||(this._innerColor=Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__.c)(Object(_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_6__.b)(),r),this._updateMaterial()):Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.l)(this._innerColor)&&(this._innerColor=null,this._updateMaterial())}get stipplePattern(){return this._stipplePattern}set stipplePattern(t){const r=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.l)(t)!==Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.l)(this._stipplePattern);this._stipplePattern=t,r?this.recreate():this._updateMaterial()}get stippleOffColor(){return this._stippleOffColor}set stippleOffColor(r){(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.k)(r)||Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.k)(this._stippleOffColor)||!Object(_chunks_vec4_js__WEBPACK_IMPORTED_MODULE_5__.g)(r,this._stippleOffColor))&&(this._stippleOffColor=Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.l)(r)?Object(_chunks_vec4f32_js__WEBPACK_IMPORTED_MODULE_6__.a)(r):null,this._updateMaterial())}get stipplePreferContinuous(){return this._stipplePreferContinuous}set stipplePreferContinuous(e){this._stipplePreferContinuous!==e&&(this._stipplePreferContinuous=e,this._updateMaterial())}get writeDepthEnabled(){return this._writeDepthEnabled}set writeDepthEnabled(e){this._writeDepthEnabled!==e&&(this._writeDepthEnabled=e,this._updateMaterial())}get falloff(){return this._falloff}set falloff(e){e!==this._falloff&&(this._falloff=e,this._updateMaterial())}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){e!==this._polygonOffset&&(this._polygonOffset=e,this._updateMaterial())}createExternalResources(){this._material=new _webgl_engine_materials_RibbonLineMaterial_js__WEBPACK_IMPORTED_MODULE_9__.a(this.materialParameters)}destroyExternalResources(){this._material=null}createGeometries(e){const t=this._createLineGeometries();if(0!==t.length)for(let r=0;r<t.length;++r){const s=Object(_layers_graphics_lineUtils_js__WEBPACK_IMPORTED_MODULE_8__.a)(t[r]);e.addGeometry(s,this._material)}}forEachExternalMaterial(e){e(this._material)}get materialParameters(){return{width:this._width,color:this._color,stippleOffColor:this._stippleOffColor,stipplePattern:this._stipplePattern,stipplePreferContinuous:this._stipplePreferContinuous,isClosed:!1,falloff:this._falloff,innerColor:this._innerColor,innerWidth:this._innerWidth,polygonOffset:this._polygonOffset,renderOccluded:this._renderOccluded,writeDepth:this._writeDepthEnabled}}_updateMaterial(){this.attached&&this._material.setParameters(this.materialParameters)}_createLineGeometries(){const e=this.geometry;if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.k)(e)||0===e.length)return[];const r=[];return e.forEach((e=>{const t=e.length,s=new Float64Array(3*t);e.forEach(((e,t)=>{s[3*t+0]=e[0],s[3*t+1]=e[1],s[3*t+2]=e[2]}));const i={overlayInfo:null,attributeData:{position:s},removeDuplicateStartEnd:0};r.push(i)})),r}}const g=Object(_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.d)()},"./node_modules/@arcgis/core/views/3d/interactive/visualElements/Object3DVisualElement.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return c}));var _core_maybe_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/core/maybe.js"),_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat4.js"),_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@arcgis/core/chunks/mat4f64.js"),_VisualElement_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js"),_webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Object3D.js"),_webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/WebGLLayer.js");class c extends _VisualElement_js__WEBPACK_IMPORTED_MODULE_3__.a{constructor(e){super(e.view),this._resources=null,this._transform=Object(_chunks_mat4f64_js__WEBPACK_IMPORTED_MODULE_2__.d)()}get object(){return Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.l)(this._resources)?this._resources.object:null}get transform(){return this._transform}set transform(s){Object(_chunks_mat4_js__WEBPACK_IMPORTED_MODULE_1__.c)(this._transform,s),Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.l)(this._resources)&&(this._resources.object.transformation=this._transform)}recreate(){this.attached&&this.createResources()}recreateGeometry(){if(Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.k)(this._resources))return;const e=this._resources.object,r=this.view._stage;r.removeMany(e.geometries),e.removeAllGeometries(),this.createGeometries(e),this.visible||e.setVisible(this.visible),r.addMany(e.geometries)}createResources(){this.destroyResources();const e=this.view._stage;if(!e)return;const s=new _webgl_engine_lib_WebGLLayer_js__WEBPACK_IMPORTED_MODULE_5__.a({isPickable:!1,updatePolicy:1});e.add(s);const r=new _webgl_engine_lib_Object3D_js__WEBPACK_IMPORTED_MODULE_4__.a({castShadow:!1});r.transformation=this._transform,this.createExternalResources(),this.createGeometries(r),e.addMany(r.geometries),this.forEachExternalMaterial((s=>e.add(s))),e.add(r),s.add(r),this.visible||r.setVisible(!1),this._resources={layer:s,object:r}}destroyResources(){const e=this.view._stage;!Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.k)(this._resources)&&e&&(e.remove(this._resources.object),e.remove(this._resources.layer),this.forEachExternalMaterial((s=>{e.remove(s),s.dispose()})),e.removeMany(this._resources.object.geometries),this._resources.object.dispose(),this.destroyExternalResources(),this._resources=null)}updateVisibility(e){Object(_core_maybe_js__WEBPACK_IMPORTED_MODULE_0__.k)(this._resources)||this._resources.object.setVisible(e)}}},"./node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return t}));class t{constructor(t){this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t,this.view.watch("ready",(t=>{this._resourcesCreated&&(t?this._createResources():this._destroyResources())}))}applyProps(t){let e=!1;for(const s in t)s in this?"attached"===s?e=t[s]:this[s]=t[s]:console.error("Cannot set unknown property",s);this.attached=e}destroy(){this.attached=!1}get attached(){return this._attached}set attached(t){t!==this._attached&&this.view._stage&&(this._attached=t,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources())}get visible(){return this._visible}set visible(t){t!==this._visible&&(this._visible=t,this.attached&&this.updateVisibility(t))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.visible||this.updateVisibility(!1)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}},"./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return i})),__webpack_require__.d(__webpack_exports__,"b",(function(){return r}));var _shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderModules/interfaces.js");function i(i){i.vertex.uniforms.add("camPos","vec3").add("perScreenPixelRatio","float").add("screenSize","float"),i.vertex.code.add(_shaderModules_interfaces_js__WEBPACK_IMPORTED_MODULE_0__.a`float computeRenderPixelSizeAt( vec3 pWorld ){
vec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);
float viewDirectionDistance = abs(dot(viewForward, pWorld - camPos));
return viewDirectionDistance*perScreenPixelRatio;
}
vec3 screenSizeScaling(vec3 position, vec3 anchor){
return position * screenSize * computeRenderPixelSizeAt(anchor) + anchor;
}`)}function r(e,i,r){e.setUniform1f("perScreenPixelRatio",r.camera.perScreenPixelRatio),e.setUniform1f("screenSize",i.screenSize)}},"./node_modules/@arcgis/core/views/3d/webgl-engine/materials/ImageMaterial.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ImageMaterial_h}));var GLMaterials=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterials.js"),GLMaterialTexture=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialTexture.js"),Material=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Material.js"),OrderIndependentTransparency=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/OrderIndependentTransparency.js"),DefaultBufferWriter=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/DefaultBufferWriter.js"),MaterialUtil=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/materials/internal/MaterialUtil.js"),tslib_es6=__webpack_require__("./node_modules/@arcgis/core/chunks/tslib.es6.js"),Slice_glsl=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js"),MultipassTerrainTest_glsl=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js"),View_glsl=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/View.glsl.js"),ReloadableShaderModule=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ReloadableShaderModule.js"),ShaderTechnique=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechnique.js"),ShaderTechniqueConfiguration=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderTechnique/ShaderTechniqueConfiguration.js"),DefaultVertexAttributeLocations=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/DefaultVertexAttributeLocations.js"),Program=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/Program.js"),StencilUtils=__webpack_require__("./node_modules/@arcgis/core/views/3d/webgl-engine/lib/StencilUtils.js"),ImageMaterial_glsl=__webpack_require__("./node_modules/@arcgis/core/chunks/ImageMaterial.glsl.js"),renderState=__webpack_require__("./node_modules/@arcgis/core/views/webgl/renderState.js");class ImageMaterialTechnique_E extends ShaderTechnique.a{initializeProgram(e){const t=ImageMaterialTechnique_E.shader.get(),r=this.configuration,i=t.build({output:r.output,slicePlaneEnabled:r.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,OITEnabled:0===r.transparencyPassType,multipassTerrainEnabled:r.multipassTerrainEnabled,cullAboveGround:r.cullAboveGround});return new Program.a(e.rctx,i,DefaultVertexAttributeLocations.a)}bindPass(e,t){Object(View_glsl.c)(this.program,t.camera.projectionMatrix),this.program.setUniform1f("opacity",e.opacity),t.multipassTerrainEnabled&&(this.program.setUniform2fv("cameraNearFar",t.camera.nearFar),this.program.setUniform2fv("inverseViewport",t.inverseViewport),Object(MultipassTerrainTest_glsl.a)(this.program,t))}bindDraw(e){Object(View_glsl.d)(this.program,e),Object(Slice_glsl.c)(this.program,this.configuration,e),this.program.rebindTextures()}setPipelineState(e,t){const r=this.configuration,i=3===e,s=2===e;return Object(renderState.g)({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?w:Object(OrderIndependentTransparency.a)(e),culling:Object(renderState.c)(r.cullFace),depthTest:{func:Object(OrderIndependentTransparency.b)(e)},depthWrite:i?r.writeDepth&&renderState.e:Object(OrderIndependentTransparency.c)(e),colorWrite:renderState.d,stencilWrite:r.sceneHasOcludees?StencilUtils.j:null,stencilTest:r.sceneHasOcludees?t?StencilUtils.f:StencilUtils.e:null,polygonOffset:i||s?null:Object(OrderIndependentTransparency.h)(r.enableOffset)})}initializePipeline(){return this._occludeePipelineState=this.setPipelineState(this.configuration.transparencyPassType,!0),this.setPipelineState(this.configuration.transparencyPassType,!1)}getPipelineState(e,t){return t?this._occludeePipelineState:super.getPipelineState(e,t)}}ImageMaterialTechnique_E.shader=new ReloadableShaderModule.a(ImageMaterial_glsl.a,(()=>__webpack_require__.e(232).then(__webpack_require__.bind(null,"./node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ImageMaterial.glsl.js"))));const w=Object(renderState.i)(1,771);class ImageMaterialTechnique_O extends ShaderTechniqueConfiguration.a{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.transparent=!1,this.enableOffset=!0,this.writeDepth=!0,this.sceneHasOcludees=!1,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}Object(tslib_es6.a)([Object(ShaderTechniqueConfiguration.b)({count:8})],ImageMaterialTechnique_O.prototype,"output",void 0),Object(tslib_es6.a)([Object(ShaderTechniqueConfiguration.b)({count:3})],ImageMaterialTechnique_O.prototype,"cullFace",void 0),Object(tslib_es6.a)([Object(ShaderTechniqueConfiguration.b)()],ImageMaterialTechnique_O.prototype,"slicePlaneEnabled",void 0),Object(tslib_es6.a)([Object(ShaderTechniqueConfiguration.b)()],ImageMaterialTechnique_O.prototype,"transparent",void 0),Object(tslib_es6.a)([Object(ShaderTechniqueConfiguration.b)()],ImageMaterialTechnique_O.prototype,"enableOffset",void 0),Object(tslib_es6.a)([Object(ShaderTechniqueConfiguration.b)()],ImageMaterialTechnique_O.prototype,"writeDepth",void 0),Object(tslib_es6.a)([Object(ShaderTechniqueConfiguration.b)()],ImageMaterialTechnique_O.prototype,"sceneHasOcludees",void 0),Object(tslib_es6.a)([Object(ShaderTechniqueConfiguration.b)({count:4})],ImageMaterialTechnique_O.prototype,"transparencyPassType",void 0),Object(tslib_es6.a)([Object(ShaderTechniqueConfiguration.b)()],ImageMaterialTechnique_O.prototype,"multipassTerrainEnabled",void 0),Object(tslib_es6.a)([Object(ShaderTechniqueConfiguration.b)()],ImageMaterialTechnique_O.prototype,"cullAboveGround",void 0);class ImageMaterial_h extends Material.a{constructor(e){super(e,o),this.supportsEdges=!0,this.techniqueConfig=new ImageMaterialTechnique_O}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.parameters.cullFace,this.techniqueConfig.slicePlaneEnabled=this.parameters.slicePlaneEnabled,this.techniqueConfig.transparent=this.parameters.transparent,this.techniqueConfig.writeDepth=this.parameters.writeDepth,this.techniqueConfig.sceneHasOcludees=this.parameters.sceneHasOcludees,this.techniqueConfig.transparencyPassType=t.transparencyPassType,this.techniqueConfig.enableOffset=t.camera.relativeElevation<OrderIndependentTransparency.e,this.techniqueConfig.multipassTerrainEnabled=t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=t.cullAboveGround,this.techniqueConfig}intersect(e,t,r,a,s,i,n){Object(MaterialUtil.i)(e,t,a,s,i,void 0,n)}requiresSlot(t,r){return 20===t||(4===Object(GLMaterials.b)(r)?2===t:t===(this.parameters.transparent?this.parameters.writeDepth?4:7:2))}createGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new ImageMaterial_p(e):void 0}createBufferWriter(){return new DefaultBufferWriter.a(DefaultBufferWriter.d)}}class ImageMaterial_p extends GLMaterialTexture.a{constructor(e){super({...e,...e.material.parameters})}updateParameters(e){const t=this._material.parameters;return this.updateTexture(t.textureId),this.ensureTechnique(ImageMaterialTechnique_E,e)}_updateOccludeeState(e){e.hasOccludees!==this._material.parameters.sceneHasOcludees&&(this._material.setParameters({sceneHasOcludees:e.hasOccludees}),this.updateParameters(e))}beginSlot(e){return 0!==this._output&&7!==this._output||this._updateOccludeeState(e),this.updateParameters(e)}bind(e,t){this.bindTextures(t.program),this.bindTextureScale(t.program),t.bindPass(this._material.parameters,e)}}const o={transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,sceneHasOcludees:!1,opacity:1,textureId:null,initTextureTransparent:!0,...Material.b}}}]);